# 写在最前
1. 本人是一个完全不会写代码的人，所以这份内容中可能存在一些bug，请使用者注意。
2. 这是在Qoder的免费额度即将用尽的时候，上传的。如果有问题，请自己修复。
3. 功能目前已实现大概50%左右。审计功能未测试，感觉应该还一团糟。
4. 能依据讨论生成细纲，会自动同步到续写正文，而后依据细纲生成内容。提交前可以修改，修改完成后，会依据修改内容记录个人风格，用于后续创作。
5. 能依据讨论生成设定，设定会存入各个设定文件中。（叠甲：因为我的初衷是写极道文，所以一些设定上也会偏向极道文）可能存在bug，最后测试时，已经能存入，但是未生成正文校验。
6. 初始化设定，目前初始化功能未完善，仅仅初始化了主角的状态信息，伏笔信息，一些世界观、设定等为添加同步关联。（这里感觉应该是存在问题的）
7. 目前使用内容创作了13章，将就着看看效果吧。

# 愿景
1. 如果有时间，有精力会继续优化，尝试做一个通用的小说生成器。（完全小白化）
2. 如果大家有好的想法，或者意见也可以提供一下。
3. 如果有大佬看上，觉得不错可以看看效果，我后续跟进一下。谢谢！

# 叠甲内容
1. 仅为个人demo，感兴趣可以自己来玩，请勿商业化。
2. 如有侵权，立刻下架。滑跪orz。
3. **重要**：本仓库包含作者的原创小说内容（正文13章、设定、细纲等），仅供学习交流，请勿擅自传播或商用。




# 镇妖狱创作引擎 (ZhenYaoYu Engine)

镇妖狱创作引擎是一款专为网文作者（特别是极道流、系统流文风）设计的智能写作辅助系统。它不仅仅是一个简单的续写工具，而是一个集成了**世界观管理**、**风格自适应学习**、**角色状态自动同步**和**逻辑建模**的综合创作中枢。

## 🌟 核心特性

- **🧠 智能设定探讨**：支持自然语言探讨设定，AI 自动进行语义拆分并分类存入设定库（人物、功法、武器等）。
- **🎭 风格自适应系统**：通过分析作者对 AI 初稿的修改，自动提取写作偏好，让 AI 越写越像你。
- **📊 角色状态自动更新**：保存章节时，系统自动识别战斗损耗、物品消耗（如妖丹、杀戮值）及境界提升，实时更新 JSON 档案。
- **📝 主编级细纲建模**：将模糊的构思转化为高浓度的执行图纸，严格控制内容边界，杜绝 AI 废话。
- **🛡️ 异常拦截机制**：强制执行“生成-精修-校验-存入”四步流程，杜绝乱码和数据错位。

## 🛠️ 快速开始

### 1. 克隆项目
```bash
git clone https://github.com/your-username/my_novel_writer.git
cd my_novel_writer
```

### 2. 安装依赖
```bash
pip install -r requirements.txt
```

### 3. 配置环境
1. 复制 `.env.example` 为 `.env`。
2. 在 `.env` 中填入您的 OpenAI 兼容 API Key 和接口地址。

### 4. 启动应用
```bash
streamlit run app.py
```

## 📂 目录结构说明

- `utils/`: 核心逻辑组件（提示词构建、状态管理、LLM 客户端等）。
- `设定/`: 存储所有小说设定文件（自动分类）。
- `正文/`: 存储已完成的章节。
- `细纲/`: 存储逻辑建模生成的执行图纸。
- `assets/`: 存储用于风格学习的参考素材。

## ⚠️ 注意事项

- **数据隐私**：项目默认通过 `.gitignore` 屏蔽了 `正文/` 和 `设定/` 目录，保护您的创作内容不被泄露。
- **API 消耗**：由于涉及多次 AI 分析，建议使用响应速度快且性价比高的模型。

---
*由 Qoder 辅助构建，助力每一位创作者构建心中的镇妖狱。*
