# 镇妖狱创作引擎 (ZhenYaoYu Engine)

镇妖狱创作引擎是一款专为网文作者（特别是极道流、系统流文风）设计的智能写作辅助系统。它不仅仅是一个简单的续写工具，而是一个集成了**世界观管理**、**风格自适应学习**、**角色状态自动同步**和**逻辑建模**的综合创作中枢。

## 🌟 核心特性

- **🧠 智能设定探讨**：支持自然语言探讨设定，AI 自动进行语义拆分并分类存入设定库（人物、功法、武器等）。
- **🎭 风格自适应系统**：通过分析作者对 AI 初稿的修改，自动提取写作偏好，让 AI 越写越像你。
- **📊 角色状态自动更新**：保存章节时，系统自动识别战斗损耗、物品消耗（如妖丹、杀戮值）及境界提升，实时更新 JSON 档案。
- **📝 主编级细纲建模**：将模糊的构思转化为高浓度的执行图纸，严格控制内容边界，杜绝 AI 废话。
- **🛡️ 异常拦截机制**：强制执行“生成-精修-校验-存入”四步流程，杜绝乱码和数据错位。

## 🛠️ 快速开始

### 1. 克隆项目
```bash
git clone https://github.com/your-username/my_novel_writer.git
cd my_novel_writer
```

### 2. 安装依赖
```bash
pip install -r requirements.txt
```

### 3. 配置环境
1. 复制 `.env.example` 为 `.env`。
2. 在 `.env` 中填入您的 OpenAI 兼容 API Key 和接口地址。

### 4. 启动应用
```bash
streamlit run app.py
```

## 📂 目录结构说明

- `utils/`: 核心逻辑组件（提示词构建、状态管理、LLM 客户端等）。
- `设定/`: 存储所有小说设定文件（自动分类）。
- `正文/`: 存储已完成的章节。
- `细纲/`: 存储逻辑建模生成的执行图纸。
- `assets/`: 存储用于风格学习的参考素材。

## ⚠️ 注意事项

- **数据隐私**：项目默认通过 `.gitignore` 屏蔽了 `正文/` 和 `设定/` 目录，保护您的创作内容不被泄露。
- **API 消耗**：由于涉及多次 AI 分析，建议使用响应速度快且性价比高的模型。

---
*由 Qoder 辅助构建，助力每一位创作者构建心中的镇妖狱。*
